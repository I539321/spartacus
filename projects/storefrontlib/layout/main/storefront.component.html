<ng-template [cxOutlet]="StorefrontOutlets.STOREFRONT" cxPageTemplateStyle>
  <ng-template cxOutlet="cx-header">
    <header
      cxSkipLink="cx-header"
      [cxFocus]="{ disableMouseFocus: true }"
      [class.is-expanded]="isExpanded$ | async"
      (keydown.escape)="collapseMenu()"
      (click)="collapseMenuIfClickOutside($event)"
    >
      <cx-page-layout section="header"></cx-page-layout>
      <cx-page-layout section="navigation"></cx-page-layout>
      <div class="theme-switcher">
        <button (click)="themeOptionsMenuToggle()" class="theme-switcher-btn">
          <cx-icon
            *ngIf="mode === 'theme-light'"
            [type]="iconTypes.SUN"
          ></cx-icon>
          <cx-icon
            *ngIf="mode === 'theme-dark'"
            [type]="iconTypes.MOON"
          ></cx-icon>
          <span style="font-size: 12px; margin: 0 5px">Theme</span>
          <cx-icon [type]="iconTypes.CARET_DOWN"></cx-icon>
        </button>
        <div class="theme-switcher-options">
          <ul>
            <li>
              <a (click)="switchTheme('theme-light', true)">Default</a
              ><cx-icon
                *ngIf="mode === 'theme-light'"
                [type]="iconTypes.CHECK"
              ></cx-icon>
            </li>
            <li>
              <a (click)="switchTheme('theme-dark', true)">Dark Mode</a>
              <cx-icon
                *ngIf="mode === 'theme-dark'"
                [type]="iconTypes.CHECK"
              ></cx-icon>
            </li>
            <li><a (click)="setThemeAuto('auto')">Auto</a></li>
            <li>
              <a (click)="switchTheme('theme-dark-hc', true)"
                >High-Contrast Dark</a
              >
            </li>
          </ul>
        </div>
      </div>
    </header>
    <cx-page-slot position="BottomHeaderSlot"></cx-page-slot>
    <cx-global-message
      aria-atomic="true"
      aria-live="assertive"
    ></cx-global-message>
  </ng-template>

  <main cxSkipLink="cx-main" [cxFocus]="{ disableMouseFocus: true }">
    <router-outlet></router-outlet>
  </main>

  <ng-template cxOutlet="cx-footer">
    <footer cxSkipLink="cx-footer" [cxFocus]="{ disableMouseFocus: true }">
      <cx-page-layout section="footer"></cx-page-layout>
    </footer>
  </ng-template>
</ng-template>
